# str: Compactly display the internal structure of an R object
# --------------------------------------------------------------

# * A diagnostic function and an alternative to 'summary'
# * It is especially well suited to compactly display the (abbreviated) contents
# of (possibly) nested lists.
# * Roughly one line per basic object. 

str(str)
# function (object, ...)  

str(lm)
# Output
# function (formula, data, subset, weights, na.action, method = "qr", 
#           model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, 
#           contrasts = NULL, offset, ...)  

str(ls)
# Output
# function (name, pos = -1L, envir = as.environment(pos), all.names = FALSE, 
#           pattern, sorted = TRUE)  

x <- rnorm(100, 2, 4)
x
# Output
# [1]  7.1122311  8.2582157  4.0456947 -5.4942661  1.8263343  3.4951374
# [7]  1.0283012  0.4415486  8.0061896 -2.0027272  6.3552535  2.7864540
# [13]  0.2201467  6.6921091 -1.1934991 -8.0524309  3.8608050  5.8951215
# [19]  2.0459861 -0.6352052  6.6724208 -1.0218691  1.4532197  5.6106996
# [25] -0.7202901  0.7088808  8.0364521  8.5459267 -2.8722203  3.1222766
# [31]  2.0984158  7.2571573  1.7793751  3.5343238  0.4724233  3.2707013
# [37]  3.9898602 -0.8285611 -6.5545200  2.2848036  6.1017391  6.4178282
# [43]  4.9188452  3.3937871  5.8691930 -3.2487481  3.0750657  0.8736229
# [49]  1.8045851  1.6031504 -0.1676279 -4.7615764  1.7184649  0.6974675
# [55]  7.2495289 12.3376167  5.9903040  3.8416525  4.5014641 -0.8999141
# [61] -6.6860980 -4.0766495  9.5272912 -1.5036181  0.5311642  4.7889743
# [67]  8.2373260  0.7771045  5.3755006  0.8943781 -1.1727600 -2.3896272
# [73]  2.2169692  5.4307481  0.4464766 -7.0912802  9.6072838 -3.7402051
# [79] -5.1326492  4.1601267  6.7720483  6.4330605  5.2219177 -1.2243411
# [85]  3.0034871 -4.8191624  0.5360503 -0.2425591 10.2053649  7.7410640
# [91] -0.2642534  7.6947127 -1.9901941 -7.4372455  6.2637548  7.4258756
# [97]  5.3191306  9.6367675 -4.4998611  4.5980403


summary(x)
# Output
#     Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
# -8.0524 -0.6565  2.2509  2.3342  5.9189 12.3376 


str(x)
# num [1:100] 7.11 8.26 4.05 -5.49 1.83 ...
# it tells that 'x' is a numeric vector, with 100 data and first 5 elements



f <- gl(40, 10)
f
# Output
# [1] 1  1  1  1  1  1  1  1  1  1  2  2  2  2  2  2  2  2  2  2  3  3  3 
# [24] 3  3  3  3  3  3  3  4  4  4  4  4  4  4  4  4  4  5  5  5  5  5  5 
# [47] 5  5  5  5  6  6  6  6  6  6  6  6  6  6  7  7  7  7  7  7  7  7  7 
# [70] 7  8  8  8  8  8  8  8  8  8  8  9  9  9  9  9  9  9  9  9  9  10 10
# [93] 10 10 10 10 10 10 10 10 11 11 11 11 11 11 11 11 11 11 12 12 12 12 12
# [116] 12 12 12 12 12 13 13 13 13 13 13 13 13 13 13 14 14 14 14 14 14 14 14
# [139] 14 14 15 15 15 15 15 15 15 15 15 15 16 16 16 16 16 16 16 16 16 16 17
# [162] 17 17 17 17 17 17 17 17 17 18 18 18 18 18 18 18 18 18 18 19 19 19 19
# [185] 19 19 19 19 19 19 20 20 20 20 20 20 20 20 20 20 21 21 21 21 21 21 21
# [208] 21 21 21 22 22 22 22 22 22 22 22 22 22 23 23 23 23 23 23 23 23 23 23
# [231] 24 24 24 24 24 24 24 24 24 24 25 25 25 25 25 25 25 25 25 25 26 26 26
# [254] 26 26 26 26 26 26 26 27 27 27 27 27 27 27 27 27 27 28 28 28 28 28 28
# [277] 28 28 28 28 29 29 29 29 29 29 29 29 29 29 30 30 30 30 30 30 30 30 30
# [300] 30 31 31 31 31 31 31 31 31 31 31 32 32 32 32 32 32 32 32 32 32 33 33
# [323] 33 33 33 33 33 33 33 33 34 34 34 34 34 34 34 34 34 34 35 35 35 35 35
# [346] 35 35 35 35 35 36 36 36 36 36 36 36 36 36 36 37 37 37 37 37 37 37 37
# [369] 37 37 38 38 38 38 38 38 38 38 38 38 39 39 39 39 39 39 39 39 39 39 40
# [392] 40 40 40 40 40 40 40 40 40
# 40 Levels: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 ... 40

str(f)
# Factor w/ 40 levels "1","2","3","4",..: 1 1 1 1 1 1 1 1 1 1 ...

summary(f)
# Output
# 1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 
# 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 
# 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 
# 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 

library(datasets)

head(airquality)
# Output
#   Ozone Solar.R Wind Temp Month Day
# 1    41     190  7.4   67     5   1
# 2    36     118  8.0   72     5   2
# 3    12     149 12.6   74     5   3
# 4    18     313 11.5   62     5   4
# 5    NA      NA 14.3   56     5   5
# 6    28      NA 14.9   66     5   6


str(airquality)
# Output
# 'data.frame':	153 obs. of  6 variables:
# $ Ozone  : int  41 36 12 18 NA 28 23 19 8 NA ...
# $ Solar.R: int  190 118 149 313 NA NA 299 99 19 194 ...
# $ Wind   : num  7.4 8 12.6 11.5 14.3 14.9 8.6 13.8 20.1 8.6 ...
# $ Temp   : int  67 72 74 62 56 66 65 59 61 69 ...
# $ Month  : int  5 5 5 5 5 5 5 5 5 5 ...
# $ Day    : int  1 2 3 4 5 6 7 8 9 10 ...


m <- matrix(rnorm(100), 10 , 10)

str(m)
# num [1:10, 1:10] 0.968 1.072 -1.12 -1.702 0.544 ...

# shows that 'm' is a numeric matrix, it has 10 rows and 10 columns, and
# it shows the first column of the matrix



# Now let's split a dataframe and see how str shows a list
# ---------------------------------------------------------

s <- split(airquality, airquality$Month)

str(s)
# Output
# List of 5
# $ 5:'data.frame':	    31 obs. of  6 variables:
#   ..$ Ozone     : int [1:31] 41 36 12 18 NA 28 23 19 8 NA ...
#   ..$ Solar.R   : int [1:31] 190 118 149 313 NA NA 299 99 19 194 ...
#   ..$ Wind      : num [1:31] 7.4 8 12.6 11.5 14.3 14.9 8.6 13.8 20.1 8.6 ...
#   ..$ Temp      : int [1:31] 67 72 74 62 56 66 65 59 61 69 ...
#   ..$ Month     : int [1:31] 5 5 5 5 5 5 5 5 5 5 ...
#   ..$ Day       : int [1:31] 1 2 3 4 5 6 7 8 9 10 ...
# $ 6:'data.frame':	    30 obs. of  6 variables:
#   ..$ Ozone     : int [1:30] NA NA NA NA NA NA 29 NA 71 39 ...
#   ..$ Solar.R   : int [1:30] 286 287 242 186 220 264 127 273 291 323 ...
#   ..$ Wind      : num [1:30] 8.6 9.7 16.1 9.2 8.6 14.3 9.7 6.9 13.8 11.5 ...
#   ..$ Temp      : int [1:30] 78 74 67 84 85 79 82 87 90 87 ...
#   ..$ Month     : int [1:30] 6 6 6 6 6 6 6 6 6 6 ...
#   ..$ Day       : int [1:30] 1 2 3 4 5 6 7 8 9 10 ...
# $ 7:'data.frame':	    31 obs. of  6 variables:
#   ..$ Ozone     : int [1:31] 135 49 32 NA 64 40 77 97 97 85 ...
#   ..$ Solar.R   : int [1:31] 269 248 236 101 175 314 276 267 272 175 ...
#   ..$ Wind      : num [1:31] 4.1 9.2 9.2 10.9 4.6 10.9 5.1 6.3 5.7 7.4 ...
#   ..$ Temp      : int [1:31] 84 85 81 84 83 83 88 92 92 89 ...
#   ..$ Month     : int [1:31] 7 7 7 7 7 7 7 7 7 7 ...
#   ..$ Day       : int [1:31] 1 2 3 4 5 6 7 8 9 10 ...
# $ 8:'data.frame':	    31 obs. of  6 variables:
#   ..$ Ozone     : int [1:31] 39 9 16 78 35 66 122 89 110 NA ...
#   ..$ Solar.R   : int [1:31] 83 24 77 NA NA NA 255 229 207 222 ...
#   ..$ Wind      : num [1:31] 6.9 13.8 7.4 6.9 7.4 4.6 4 10.3 8 8.6 ...
#   ..$ Temp      : int [1:31] 81 81 82 86 85 87 89 90 90 92 ...
#   ..$ Month     : int [1:31] 8 8 8 8 8 8 8 8 8 8 ...
#   ..$ Day       : int [1:31] 1 2 3 4 5 6 7 8 9 10 ...
# $ 9:'data.frame':	    30 obs. of  6 variables:
#   ..$ Ozone     : int [1:30] 96 78 73 91 47 32 20 23 21 24 ...
#   ..$ Solar.R   : int [1:30] 167 197 183 189 95 92 252 220 230 259 ...
#   ..$ Wind      : num [1:30] 6.9 5.1 2.8 4.6 7.4 15.5 10.9 10.3 10.9 9.7 ...
#   ..$ Temp      : int [1:30] 91 92 93 93 87 84 80 78 75 73 ...
#   ..$ Month     : int [1:30] 9 9 9 9 9 9 9 9 9 9 ...
#   ..$ Day       : int [1:30] 1 2 3 4 5 6 7 8 9 10 ...